name: Test Email Notification

on:
  workflow_dispatch:  # Manual trigger only

jobs:
  test-email:
    runs-on: ubuntu-latest

    steps:
      - name: Send test email
        uses: dawidd6/action-send-mail@v3
        with:
          server_address: smtp.gmail.com
          server_port: 465
          secure: true
          username: ${{ secrets.EMAIL_USERNAME }}
          password: ${{ secrets.EMAIL_PASSWORD }}
          subject: "ğŸ§ª Test Email - Olympics Medal Bot"
          to: ${{ secrets.EMAIL_TO }}
          from: Olympics Medal Bot
          body: |
            This is a test email from your Olympics Medal Bot!

            If you're reading this, the email notifications are working correctly! âœ…

            The bot will send you emails when:
            - âœ… Medal counts are successfully updated
            - âŒ The scraper encounters an error

            You can delete this test workflow file after confirming it works:
            .github/workflows/test-email.yml

            Ready for the Olympics! ğŸ…
